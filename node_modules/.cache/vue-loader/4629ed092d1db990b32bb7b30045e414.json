{"remainingRequest":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jr/devspace/simpleCRM/src/components/SchedulerKanban.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jr/devspace/simpleCRM/src/components/SchedulerKanban.vue","mtime":1643963411474},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1643224169106},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1643224169006},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1643224169106},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1643224172087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IERheVBpbG90S2FuYmFuLCBEYXlQaWxvdCB9IGZyb20gImRheXBpbG90LXByby12dWUiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwovLyBpbXBvcnQgInZ1ZS1tdWx0aXNlbGVjdC9kaXN0L3Z1ZS1tdWx0aXNlbGVjdC5taW4uY3NzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2NoZWR1bGVyS2FuYmFuIiwKICBwcm9wczogewogICAgQVBJX0tFWTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9LAogICAgfSwKICAgIElEX1VTRVI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiAxOwogICAgICB9LAogICAgfSwKICAgIFVSSTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICJodHRwczovLzAwMDItemVicmlkZ2UtZGV2LWV4dGVybmUuYXBpLmNybS1zaW1wbGUuY29tL2ludGVyYWN0aW9ucy8iOwogICAgICB9LAogICAgfSwKICAgIFVSSV9BQ1RJT046IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiAiaHR0cHM6Ly8wMDAyLXplYnJpZGdlLWRldi1leHRlcm5lLmFwaS5jcm0tc2ltcGxlLmNvbS9pbnRlcmFjdGlvbi8iOwogICAgICB9LAogICAgfSwKICAgIFVSSV9JVEVNUzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICJodHRwczovLzAwMDItemVicmlkZ2UtZGV2LWV4dGVybmUuYXBpLmNybS1zaW1wbGUuY29tL2FjdGlvbnJ1YnJpcXVlcy8iOwogICAgICB9LAogICAgfSwKICAgIFVSSV9BQ1RJT05UWVBFUzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICJodHRwczovLzAwMDItemVicmlkZ2UtZGV2LWV4dGVybmUuYXBpLmNybS1zaW1wbGUuY29tL2FjdGlvbnR5cGVzLyI7CiAgICAgIH0sCiAgICB9LAogICAgaWRVdGlsaXNhdGV1cnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFsiMSIsICIyIiwgIjMiLCAiNCIsICI1IiwgIjYiLCAiNyIsICI4IiwgIjkiXTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBpc0Z1bGxQYWdlOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nOiB0cnVlLAogICAgICBpdGVtU2VsZWN0ZWQgOiB7fSwKICAgICAgdXNlciA6IFtdLAogICAgICBsb2NrIDogImFsbGxvY2siLAogICAgICB0eXBlIDogImFsbHR5cGUiLAogICAgICBwcmlvcml0eSA6ICJhbGxwcmlvcml0eSIsCiAgICAgIHN0ZXBzOiBbXSwKICAgICAgYWxsVXNlcnM6IFtdLAogICAgICB0YXNrczogW10sCiAgICAgIHNob3dpbmc6ICIiLAogICAgICBzaG93aW5nSXRlbXM6ICIiLAogICAgICB0eXBldmlldzp7CiAgICAgICAgdGl0bGUgOiAiU2VsZWN0aW9ubmV6IiwgCiAgICAgICAgY29sb3I6ICIjMjI1MWZmIiwKICAgICAgICBpbmRleDogImNvbG9yX2RlZmF1dCIsCiAgICAgIH0sCiAgICAgIGl0ZW1zTGlzdCA6IFtdLAogICAgICBjb2x1bW5MaXN0IDogW10sCiAgICAgIGFycmF5RmlsdGVyIDogWwogICAgICAgICAgewogICAgICAgICAgICBjb2xvcjogIiMyMjUxZmYiLAogICAgICAgICAgICB0aXRsZTogIkTDqWZhdXQiLAogICAgICAgICAgICBpbmRleDogImNvbG9yX2RlZmF1dCIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBjb2xvcjogIiNGNTRENDAiLAogICAgICAgICAgICB0aXRsZTogIkV0YXQiLAogICAgICAgICAgICBpbmRleDogImNvbG9yX2V0YXQiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgY29sb3I6ICIjMjVmZmNkIiwKICAgICAgICAgICAgdGl0bGU6ICJQcmlvcml0w6kiLAogICAgICAgICAgICBpbmRleDogImNvbG9yX3ByaW9yaXRlIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbG9yOiAiI2RlNDUyYSIsCiAgICAgICAgICAgIHRpdGxlOiAiVXRpbGlzYXRldXIiLAogICAgICAgICAgICBpbmRleDogImNvbG9yX3V0aWxpc2F0ZXVyIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbG9yOiAiI2NkZWUwMCIsCiAgICAgICAgICAgIHRpdGxlOiAiVHlwZSIsCiAgICAgICAgICAgIGluZGV4OiAiY29sb3JfdHlwZSIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBjb2xvcjogIiNlMTk0MDAiLAogICAgICAgICAgICB0aXRsZTogIlByaW9yaXTDqSDDqWNow6lhbmNlIiwKICAgICAgICAgICAgaW5kZXg6ICJjb2xvcl9wcmlvcml0ZV9lY2hlYW5jZSIsCiAgICAgICAgICB9LAogICAgICBdLAogICAgICBjb25maWc6IHsKICAgICAgICBjb2x1bW5XaWR0aFNwZWM6ICJBdXRvIiwKICAgICAgICBzd2ltbGFuZU1vdmVIYW5kbGluZzogIkRpc2FibGVkIiwKICAgICAgICBldmVudEhvdmVySGFuZGxpbmc6ICJCdWJibGUiLAogICAgICAgIC8vIG9uU3dpbWxhbmVNb3ZlZDogKGFyZ3MpID0+IHsKICAgICAgICAvLyAgIGFyZ3MuY29udHJvbC5tZXNzYWdlKCJTd2ltbGFuZSBtb3ZlZDogIiArIGFyZ3Muc3dpbWxhbmUuZGF0YS5uYW1lKTsKICAgICAgICAvLyB9LAogICAgICAgIGNhcmREZWxldGVIYW5kbGluZzogIkRpc2FibGVkIiwKICAgICAgICBjYXJkTW92ZUhhbmRsaW5nOiAiRW5hYmxlZCIsCiAgICAgICAgb25DYXJkTW92ZWQ6IChhcmdzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiYXJncyIsIGFyZ3MpOwogICAgICAgICAgdGhpcy51cGRhdGVDYWxlbmRhcihhcmdzLmNhcmQuZGF0YSwgYXJncy5jYXJkLmNvbnRyb2wuY2FyZHMpCiAgICAgICAgICAvLyBhcmdzLmNvbnRyb2wubWVzc2FnZSgiQ2FyZCBtb3ZlZDogIiArIGFyZ3MuY2FyZC5kYXRhLm5hbWUpOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVDZWxsUmVuZGVyIDogKGFyZ3MpID0+IHsKICAgICAgICAgIGlmKGFyZ3MuY2VsbC5zd2ltbGFuZS5kYXRhLmlkID09PSB0aGlzLklEX1VTRVIpewogICAgICAgICAgICBhcmdzLmNlbGwuYXJlYXMgPVsgewogICAgICAgICAgICAgIHJpZ2h0OiA1LAogICAgICAgICAgICAgIGJvdHRvbTogNSwKICAgICAgICAgICAgICB3aWR0aDogMTAwLAogICAgICAgICAgICAgIGhlaWdodDogMzAsCiAgICAgICAgICAgICAgaHRtbDogIkFqb3V0ZXIiLAogICAgICAgICAgICAgIGNzc0NsYXNzOiAiYWRkLWJ1dHRvbiIsCiAgICAgICAgICAgICAgYWN0aW9uOiAiSmF2YVNjcmlwdCIsIGpzOiBhc3luYyhhcmdzKT0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJPTiBCVVRUT04gIiwgYXJncyk7CiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5ld1Rhc2tzKGFyZ3MsImFkZC1idXR0b24iKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjYXJkUmlnaHRDbGlja0hhbmRsaW5nOiAiRGlzYWJsZWQiLAogICAgICAgIG9uQ2FyZENsaWNrOiBhc3luYyAoYXJncykgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIkNBUkRTIDogIiwgYXJncyk7CiAgICAgICAgICBpZigoYXJncy5jYXJkLmRhdGEubG9jayE9PSIxIikgJiYgKGFyZ3MuY2FyZC5kYXRhLnN3aW1sYW5lPT09dGhpcy5JRF9VU0VSKSl7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gYXdhaXQgRGF5UGlsb3QuTW9kYWwucHJvbXB0KAogICAgICAgICAgICAgICJNb2RpZmllciBsZSB0aXRyZSBkZSBsYSB0w6JjaGU6ICIsYXJncy5jYXJkLmRhdGEudGV4dAogICAgICAgICAgICApOwogICAgICAgICAgICBsZXQgbmFtZT1tb2RhbC5yZXN1bHQ7CiAgICAgICAgICAgIGlmICghbmFtZSkge3JldHVybjt9CiAgICAgICAgICAgIGFyZ3MuY2FyZC5kYXRhLnRleHQgPSBtb2RhbC5yZXN1bHQ7CiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FsZW5kYXIoYXJncy5jYXJkLmRhdGEsIGFyZ3MuY2FyZC5jb250cm9sLmNhcmRzKQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gY29udGV4dE1lbnVDYXJkOiBuZXcgRGF5UGlsb3QuTWVudSh7CiAgICAgICAgLy8gICBpdGVtczogWwogICAgICAgIC8vICAgICB7CiAgICAgICAgLy8gICAgICAgdGV4dDogIlZlcnJvdWlsbGVyIGxhIHTDomNoZSIsCiAgICAgICAgLy8gICAgICAgaWNvbjogImZhcyBmYS1sb2NrIiwKICAgICAgICAvLyAgICAgICBvbkNsaWNrOiAoYXJncykgPT4gewogICAgICAgIC8vICAgICAgICAgbGV0IGUgPSBhcmdzLnNvdXJjZTsKICAgICAgICAvLyAgICAgICAgIGUuZGF0YS5sb2NrID0gIjEiOwogICAgICAgIC8vICAgICAgICAgZS5kYXRhLmFyZWFzWzBdLmljb24gPSAiZmFzIGZhLWxvY2siOwogICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coIkxPQ0tFRCA6ICIsIGUuZGF0YSk7CiAgICAgICAgLy8gICAgICAgICB0aGlzLnVwZGF0ZUNhbGVuZGFyKGUuZGF0YSxlLmNvbnRyb2wuY2FyZHMpOwogICAgICAgIC8vICAgICAgIH0sCiAgICAgICAgLy8gICAgIH0sCiAgICAgICAgLy8gICAgIHsKICAgICAgICAvLyAgICAgICB0ZXh0OiAiU3VwcHJpbWVyIiwKICAgICAgICAvLyAgICAgICBpY29uOiAiZmFzIGZhLXRyYXNoIiwKICAgICAgICAvLyAgICAgICBvbkNsaWNrOiAoYXJncykgPT4gewogICAgICAgIC8vICAgICAgICAgY29uc3QgZHAgPSBhcmdzLnNvdXJjZS5jb250cm9sOwogICAgICAgIC8vICAgICAgICAgbGV0IGlkYWN0aW9uID0gYXJncy5zb3VyY2UuZGF0YS5pZGFjdGlvbjsKICAgICAgICAvLyAgICAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgLy8gICAgICAgICAgIG1ldGhvZDogImRlbGV0ZSIsCiAgICAgICAgLy8gICAgICAgICAgIHVybDogdGhpcy5VUklfQUNUSU9OICsgdGhpcy5BUElfS0VZICsgIi8iICsgaWRhY3Rpb24sCiAgICAgICAgLy8gICAgICAgICAgIGhlYWRlcnM6IHt9LAogICAgICAgIC8vICAgICAgICAgfTsKICAgICAgICAvLyAgICAgICAgIGF4aW9zKGNvbmZpZykKICAgICAgICAvLyAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vICAgICAgICAgICAgIGRwLmNhcmRzLnJlbW92ZShhcmdzLnNvdXJjZSk7CiAgICAgICAgLy8gICAgICAgICAgIH0pCiAgICAgICAgLy8gICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgT04gREVMRVRFIDogIiwgZXJyb3IpOwogICAgICAgIC8vICAgICAgICAgICB9KTsKICAgICAgICAvLyAgICAgICB9LAogICAgICAgIC8vICAgICB9LAogICAgICAgIC8vICAgICB7CiAgICAgICAgLy8gICAgICAgdGV4dDogIlByaXZhdGUiLAogICAgICAgIC8vICAgICAgIGljb246ICJpY29uIGljb24tcHJpdmF0ZSIsCiAgICAgICAgLy8gICAgICAgY29sb3I6ICIjOWU1ZmZmIiwKICAgICAgICAvLyAgICAgICBvbkNsaWNrOiAoYXJncykgPT4gewogICAgICAgIC8vICAgICAgICAgbGV0IGUgPSBhcmdzLnNvdXJjZTsKICAgICAgICAvLyAgICAgICAgIGUuZGF0YS5iYXJDb2xvciA9ICIjOWU1ZmZmIjsKICAgICAgICAvLyAgICAgICAgIHRoaXMudXBkYXRlQ2FsZW5kYXIoZS5kYXRhLGUuY29udHJvbC5jYXJkcyk7CiAgICAgICAgLy8gICAgICAgfSwKICAgICAgICAvLyAgICAgfSwKICAgICAgICAvLyAgICAgewogICAgICAgIC8vICAgICAgIHRleHQ6ICJDb21wYW55IiwKICAgICAgICAvLyAgICAgICBpY29uOiAiaWNvbiBpY29uLWNvbXBhbnkiLAogICAgICAgIC8vICAgICAgIGNvbG9yOiAiIzAwYTlmZiIsCiAgICAgICAgLy8gICAgICAgb25DbGljazogIChhcmdzKSA9PiB7CiAgICAgICAgLy8gICAgICAgICBsZXQgZSA9IGFyZ3Muc291cmNlOwogICAgICAgIC8vICAgICAgICAgZS5kYXRhLmJhckNvbG9yID0gIiMwMGE5ZmYiOwogICAgICAgIC8vICAgICAgICAgdGhpcy51cGRhdGVDYWxlbmRhcihlLmRhdGEsZS5jb250cm9sLmNhcmRzKTsKICAgICAgICAvLyAgICAgICB9LAogICAgICAgIC8vICAgICB9LAogICAgICAgIC8vICAgICB7CiAgICAgICAgLy8gICAgICAgdGV4dDogIkTDqVZlcnJvdWlsbGVyIGxhIHTDomNoZSIsCiAgICAgICAgLy8gICAgICAgaWNvbjogImZhcyBmYS1sb2NrLW9wZW4iLAogICAgICAgIC8vICAgICAgIG9uQ2xpY2s6IChhcmdzKSA9PiB7CiAgICAgICAgLy8gICAgICAgICBsZXQgZSA9IGFyZ3Muc291cmNlOwogICAgICAgIC8vICAgICAgICAgZS5kYXRhLmxvY2sgPSAiMCI7CiAgICAgICAgLy8gICAgICAgICBlLmRhdGEuYXJlYXNbMF0uaWNvbiA9ICJmYXMgZmEtY2hldnJvbi1kb3duIjsKICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJMT0NLRUQgOiAiLCBlLmRhdGEpOwogICAgICAgIC8vICAgICAgICAgdGhpcy51cGRhdGVDYWxlbmRhcihlLmRhdGEsZS5jb250cm9sLmNhcmRzKTsKICAgICAgICAvLyAgICAgICB9LAogICAgICAgIC8vICAgICB9LAogICAgICAgIC8vICAgXSwKICAgICAgICAvLyAgIG9uU2hvdzogZnVuY3Rpb24gKGFyZ3MpIHsKICAgICAgICAvLyAgICAgaWYgKHBhcnNlSW50KGFyZ3Muc291cmNlLmRhdGEubG9jaykgPT09IDEpIHsKICAgICAgICAvLyAgICAgICBhcmdzLm1lbnUuaXRlbXNbMF0uaGlkZGVuID0gdHJ1ZTsKICAgICAgICAvLyAgICAgICBhcmdzLm1lbnUuaXRlbXNbNF0uaGlkZGVuID0gZmFsc2U7CiAgICAgICAgLy8gICAgICAgYXJncy5tZW51Lml0ZW1zLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgLy8gICAgICAgICBlbGVtZW50LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAvLyAgICAgICB9KTsKICAgICAgICAvLyAgICAgICBhcmdzLm1lbnUuaXRlbXNbNF0uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAvLyAgICAgfSAKICAgICAgICAvLyAgICAgZWxzZSB7CiAgICAgICAgLy8gICAgICAgYXJncy5tZW51Lml0ZW1zWzBdLmhpZGRlbiA9IGZhbHNlOwogICAgICAgIC8vICAgICAgIGFyZ3MubWVudS5pdGVtcy5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgIC8vICAgICAgICAgZWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIC8vICAgICAgIH0pOwogICAgICAgIC8vICAgICAgIGFyZ3MubWVudS5pdGVtc1s0XS5oaWRkZW4gPSB0cnVlOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9LAogICAgICAgIC8vIH0pLAogICAgICB9LAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIERheVBpbG90S2FuYmFuLAogICAgTXVsdGlzZWxlY3QKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyBEYXlQaWxvdC5LYW5iYW4gb2JqZWN0IC0gaHR0cHM6Ly9hcGkuZGF5cGlsb3Qub3JnL2RheXBpbG90LWthbmJhbi1jbGFzcy8KICAgIGthbmJhbjogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5rYW5iYW4uY29udHJvbDsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRBbGxVc2Vycyhub21icmVfcGFnZT0wKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6ICJodHRwczovLzAwMDItemVicmlkZ2UtZGV2LWV4dGVybmUuYXBpLmNybS1zaW1wbGUuY29tL3V0aWxpc2F0ZXVycy8iKyB0aGlzLkFQSV9LRVksCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbGV0IGFsbFVzZXJzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2coIlVTRVJTIDogIiwgcmVzcG9uc2UpOwogICAgICAgICAgLy8gY29uc29sZS5sb2coIklEIFVTRVI6ICIsIHZtLklEX1VTRVIpOwogICAgICAgICAgYWxsVXNlcnMuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgdm0uYWxsVXNlcnMucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogZWxlbWVudC5ub21fdXRpbGlzYXRldXIudmFsdWUsCiAgICAgICAgICAgICAgaWQ6IGVsZW1lbnQuaWR1dGlsaXNhdGV1ci52YWx1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZtLnVzZXIgPSB2bS5hbGxVc2Vycy5maWx0ZXIoKHgpID0+IHguaWQgaW4gdm0uaWRVdGlsaXNhdGV1cnMgKTsKICAgICAgICAgIG5vbWJyZV9wYWdlKys7CiAgICAgICAgICBpZiAobm9tYnJlX3BhZ2UgPj0gcmVzcG9uc2UuZGF0YS5uYnBhZ2UpIHsKICAgICAgICAgICAgdGhpcy5nZXRBbGxVc2Vycyhub21icmVfcGFnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgT04gR0VUIEFMTCBVU0VSUzogIiwgZXJyb3IpOwogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0pOwogICAgfSwKICAgIGNvbXBhcmUoIGEsIGIgKSB7CiAgICAgIGlmICggYS5ydWJyaXF1ZSA8IGIucnVicmlxdWUgKXsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KICAgICAgaWYgKCBhLnJ1YnJpcXVlID4gYi5ydWJyaXF1ZSApewogICAgICAgIHJldHVybiAxOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIGFzeW5jIGdldEl0ZW1zTGlzdChub21icmVfcGFnZT0wKSB7CiAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6IHRoaXMuVVJJX0lURU1TKyB0aGlzLkFQSV9LRVksCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgbGV0IGl0ZW1zID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgaXRlbXMuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgdGhpcy5pdGVtc0xpc3QucHVzaCh7CiAgICAgICAgICAgICAgaWQgOiBlbGVtZW50LmlkcnVicmlxdWUsIAogICAgICAgICAgICAgIHJ1YnJpcXVlIDogZWxlbWVudC5ydWJyaXF1ZSwgCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBub21icmVfcGFnZSsrOwogICAgICAgICAgaWYobm9tYnJlX3BhZ2UgPCByZXNwb25zZS5kYXRhLm5icGFnZSl7CiAgICAgICAgICAgIHRoaXMuZ2V0SXRlbXNMaXN0KG5vbWJyZV9wYWdlKTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgIHRoaXMuaXRlbXNMaXN0LnNvcnQoIHRoaXMuY29tcGFyZSApOwogICAgICAgICAgICB0aGlzLmdldEl0ZW1Db2x1bW5zKHRoaXMuaXRlbXNMaXN0WzBdKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBPTiBHRVQgQUxMIElURU1TOiAiLCBlcnJvcik7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZ2V0SXRlbUNvbHVtbnMoaXRlbSxub21icmVfcGFnZT0wKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nPXRydWU7CiAgICAgIHRoaXMuaXRlbVNlbGVjdGVkID0gaXRlbTsKICAgICAgdGhpcy5jb2x1bW5MaXN0PVtdOwogICAgICBsZXQgaWQgPSBpdGVtLmlkCiAgICAgIGNvbnNvbGUubG9nKCJJZCA6IiwgaWQpOwogICAgICByZXR1cm4gYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiB0aGlzLlVSSV9BQ1RJT05UWVBFUyt0aGlzLkFQSV9LRVkrIi9jb25kaXRpb246aWRydWJyaXF1ZTplZ2FsOiIraWQsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZygiUkVTUE9OU0UgQ09MVU1OIEEgOiAiLCByZXNwb25zZSkKICAgICAgICAgIC8vIGxldCBuZXdDb2x1bW5zID0gW107CiAgICAgICAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgIHRoaXMuY29sdW1uTGlzdC5wdXNoKHsKICAgICAgICAgICAgICBpZCA6IGVsZW1lbnQuaWRhY3Rpb25fdHlwZSwgCiAgICAgICAgICAgICAgbmFtZSA6IGVsZW1lbnQuYWN0aW9uX3R5cGUsIAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgbm9tYnJlX3BhZ2UrKzsKICAgICAgICAgIGNvbnNvbGUubG9nKCJDT0xVTU4gTElTVCIsIHRoaXMuY29sdW1uTGlzdCk7CiAgICAgICAgICBub21icmVfcGFnZSA+PSByZXNwb25zZS5kYXRhLm5icGFnZSA/IHRoaXMuc2hvd2luZ0l0ZW1zPSIiOiB0aGlzLmdldEl0ZW1Db2x1bW5zKGl0ZW0sbm9tYnJlX3BhZ2UpOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmc9ZmFsc2U7CiAgICAgICAgICB0aGlzLmNvbHVtbkxpc3Q9dGhpcy5hZGRDcmVhdGVCdXR0b24odGhpcy5jb2x1bW5MaXN0KTsKICAgICAgICAgIHRoaXMua2FuYmFuLmNvbHVtbnMubGlzdCA9IHRoaXMuY29sdW1uTGlzdDsKICAgICAgICAgIFZ1ZS5zZXQodGhpcy5jb25maWcsICJjb2x1bW5zIiwgdGhpcy5jb2x1bW5MaXN0KTsKICAgICAgICAgIHRoaXMubG9hZFN3aW1sYW5lKCk7CiAgICAgICAgICB0aGlzLmxvYWRDYXJkcygpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIE9OIEdFVCBBTEwgQUNUSU9OUyBUWVBFOiAiLCBlcnJvcik7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZ2V0S2FuYmFuSXRlbSh1cmw9dGhpcy5VUkkgKyB0aGlzLkFQSV9LRVksIG5vbWJyZV9wYWdlPTApIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0udGFza3M9IG5vbWJyZV9wYWdlPT09MCA/IFtdIDogdm0udGFza3M7CiAgICAgIGNvbnNvbGUubG9nKCJub21icmVfcGFnZSAiLCBub21icmVfcGFnZSk7CiAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6IHVybCsiLyIrbm9tYnJlX3BhZ2UsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbGV0IHRhc2tzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2coIlRBU0sgMS4wICIsIHJlc3BvbnNlKTsKICAgICAgICAgIGxldCBpbmRleCA9IHZtLnRhc2tzLmxlbmd0aCsxOwogICAgICAgICAgbGV0IGdyb3VwQnkgPSBmdW5jdGlvbiAoeHMpIHsKICAgICAgICAgICAgcmV0dXJuIHhzLnJlZHVjZShmdW5jdGlvbiAocnYsIHgpIHsKICAgICAgICAgICAgICAocnZbeC5pZHV0aWxpc2F0ZXVyLnZhbHVlXSA9CiAgICAgICAgICAgICAgICBydlt4LmlkdXRpbGlzYXRldXIudmFsdWVdIHx8IFtdKS5wdXNoKHgpOwogICAgICAgICAgICAgIHJldHVybiBydjsKICAgICAgICAgICAgfSwge30pOwogICAgICAgICAgfTsKICAgICAgICAgIGxldCB0YXNrQnlJRCA9IGdyb3VwQnkodGFza3MpOwogICAgICAgICAgbGV0IG5ld0V2ZW50cyA9IFtdOwogICAgICAgICAgZm9yIChjb25zdCBba2V5XSBvZiBPYmplY3QuZW50cmllcyh0YXNrQnlJRCkpIHsKICAgICAgICAgICAgbmV3RXZlbnRzLnB1c2goewogICAgICAgICAgICAgIGlkOiBgJHtrZXl9YCwKICAgICAgICAgICAgICB0YXNrczogdGFza0J5SURbYCR7a2V5fWBdLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIG5ld0V2ZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgICAgICAgIGVsZW1lbnQudGFza3MuZm9yRWFjaCgodGFzaykgPT4gewogICAgICAgICAgICAgIHZtLnRhc2tzLnB1c2goewogICAgICAgICAgICAgICAgaWRhY3Rpb246IHRhc2suaWRhY3Rpb24udmFsdWUsCiAgICAgICAgICAgICAgICBpZDogaW5kZXgsCiAgICAgICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgICAgIHRleHQ6IHRhc2suc3VqZXQudmFsdWUsCiAgICAgICAgICAgICAgICBzd2ltbGFuZTogZWxlbWVudC5pZCwKICAgICAgICAgICAgICAgIHN0YXJ0OiB0YXNrLmRhdGVfYWN0aW9uLnZhbHVlLAogICAgICAgICAgICAgICAgZW5kOiB0YXNrLmRhdGVfZmluLnZhbHVlLAogICAgICAgICAgICAgICAgY29sdW1uOiB0YXNrLmlkdHlwZV9hY3Rpb24udmFsdWUsCiAgICAgICAgICAgICAgICBsb2NrOiB0YXNrLmVfbG9jay52YWx1ZSwKICAgICAgICAgICAgICAgIGJhckNvbG9yOnZtLnNldENvbG9yKHZtLnR5cGV2aWV3LCB0YXNrKSwKICAgICAgICAgICAgICAgIHByaW9yaXR5IDp0YXNrLnByaW9yaXRlLnZhbHVlLAogICAgICAgICAgICAgICAgYXJlYXM6IFsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwLAogICAgICAgICAgICAgICAgICAgIHRvcDogNiwKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjAsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMCwKICAgICAgICAgICAgICAgICAgICBpY29uOiAiZmFzIGZhLWluZm8tY2lyY2xlIiwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogInRleHQtYWxpZ246Y2VudGVyOyBjb2xvcjojMjI1MWZmIiwKICAgICAgICAgICAgICAgICAgICBhY3Rpb24gOiJCdWJibGUiLAogICAgICAgICAgICAgICAgICAgIGJ1YmJsZTogbmV3IERheVBpbG90LkJ1YmJsZSh7CiAgICAgICAgICAgICAgICAgICAgICBvbkxvYWQ6IChhcmdzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZGFjdGlvbiA9IGFyZ3Muc291cmNlLmRhdGEuY2FyZC5pZGFjdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBhcmdzLnNvdXJjZS5kYXRhLmNhcmQuc3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQuc3BsaXQoIiAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld19kYXRlID0gc3RhcnRbMF0uc3BsaXQoIi0iKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRbMF0gPSBuZXdfZGF0ZVsyXSArICItIiArIG5ld19kYXRlWzFdICsgIi0iICsgbmV3X2RhdGVbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdfZW5kID0gc3RhcnRbMV0uc3BsaXQoIjoiKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRbMV0gPSBuZXdfZW5kWzBdICsgIjoiICsgbmV3X2VuZFsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gYXJncy5zb3VyY2UuZGF0YS5jYXJkLmVuZDsKICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gZW5kLnNwbGl0KCIgIik7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19kYXRlID0gZW5kWzBdLnNwbGl0KCItIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFswXSA9IG5ld19kYXRlWzJdICsgIi0iICsgbmV3X2RhdGVbMV0gKyAiLSIgKyBuZXdfZGF0ZVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2VuZCA9IGVuZFsxXS5zcGxpdCgiOiIpOwogICAgICAgICAgICAgICAgICAgICAgICBlbmRbMV0gPSBuZXdfZW5kWzBdICsgIjoiICsgbmV3X2VuZFsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXZlbnQgb2JqZWN0IGRvZXNuJ3Qgc3BlY2lmeSAiYnViYmxlSHRtbCIgcHJvcGVydHkKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBvbkxvYWQgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCB0byBwcm92aWRlIHRoZSBidWJibGUgSFRNTAogICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmh0bWwgPQogICAgICAgICAgICAgICAgICAgICAgICAgICI8c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6IDkwMCc+IiArYXJncy5zb3VyY2UuZGF0YS5jYXJkLnRleHQgKyI8L3NwYW4+PC9icj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAiRMOpYnV0OiAiICtzdGFydFswXSArIiDDoCAiICtzdGFydFsxXSArIjwvYnI+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgIkZpbjogIiArZW5kWzBdICsiIMOgICIgKyBlbmRbMV0gKyI8L2JyPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICI8YSBocmVmPSdodHRwczovLzAwMDItemVicmlkZ2UtZGV2LWV4dGVybmUuY3JtLXNpbXBsZS5jb20vYWN0aW9uX2VkaXQucGhwP2lkYWN0aW9uPSIgKwogICAgICAgICAgICAgICAgICAgICAgICAgIGlkYWN0aW9uICsiJ3RhcmdldD0nX2JsYW5rJ3JlbD0nbm9vcGVuZXInID5Wb2lyIHBsdXM8L2E+IjsKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vQ0hBTkdFIElDT04gRk9yICBMT0NLRUQgRVZFTlRTCiAgICAgICAgICAgICAgLy8gaWYgKHBhcnNlSW50KHZtLnRhc2tzW2luZGV4LTFdLmxvY2spID09PSAxKSB7CiAgICAgICAgICAgICAgLy8gICB2bS50YXNrc1tpbmRleC0xXS5hcmVhc1swXS5pY29uID0iZmFzIGZhLWxvY2siOwogICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICBpbmRleCsrOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgY29uc29sZS5sb2coIlRBU0tTIDIuMCA6ICIsIHZtLnRhc2tzKTsKICAgICAgICAgIG5vbWJyZV9wYWdlKys7CiAgICAgICAgICBpZihub21icmVfcGFnZSA8IHJlc3BvbnNlLmRhdGEubmJwYWdlKXsKICAgICAgICAgICAgdm0uZ2V0S2FuYmFuSXRlbSh2bS5VUkkgKyB2bS5BUElfS0VZLG5vbWJyZV9wYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBPTiBHRVQ6ICIsIGVycm9yKTsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9KTsKICAgIH0sCiAgICBsb2FkQ2FyZHMoKSB7CiAgICAgIFZ1ZS5zZXQodGhpcy5jb25maWcsICJjYXJkcyIsIHRoaXMudGFza3MpOwogICAgfSwKICAgIGxvYWRDb2x1bW5zKCkgewogICAgICB0aGlzLmNvbHVtbkxpc3QgPSB0aGlzLmFkZENyZWF0ZUJ1dHRvbih0aGlzLmNvbHVtbkxpc3QpOwogICAgICBWdWUuc2V0KHRoaXMuY29uZmlnLCAiY29sdW1ucyIsIHRoaXMuY29sdW1uTGlzdCk7CiAgICB9LAogICAgYXN5bmMgY3JlYXRlTmV3VGFza3MoYXJncywgdHlwZSl7CiAgICAgIGNvbnNvbGUubG9nKCJSVU4gVEhST1VHSCIsIHR5cGUpOwogICAgICBjb25zb2xlLmxvZygiYXJncyBDT0xVTU4gOiIsIGFyZ3MpOwogICAgICBjb25zdCBtb2RhbCA9IGF3YWl0IERheVBpbG90Lk1vZGFsLnByb21wdCgiQ3LDqWVyIHVuZSBub3V2ZWxsZSB0w6JjaGU6ICIsKTsKICAgICAgbGV0IG5hbWU9bW9kYWwucmVzdWx0OwogICAgICBpZiAoIW5hbWUpIHtyZXR1cm47fQogICAgICBjb25zdCBhZGRaZXJvID0gKGkpID0+IGkgPCAxMCA/ICIwIiArIGkgOiAgaTsKICAgICAgbGV0IGN1cnJlbnRkYXRlID0gbmV3IERhdGUoKTsKICAgICAgbGV0IGRheSA9IGN1cnJlbnRkYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSIgICsgYWRkWmVybygoY3VycmVudGRhdGUuZ2V0TW9udGgoKSsxKSkgICsgIi0iCiAgICAgICAgICAgICAgICArIGFkZFplcm8oY3VycmVudGRhdGUuZ2V0RGF0ZSgpKTsKICAgICAgbGV0IHRhYiA9IGRheSArIiAiICArICIwMDowMDowMCI7CiAgICAgIGxldCBzdGFydCA9IG5ldyBEYXRlKHRhYik7CiAgICAgIGxldCBlbmQgPSBuZXcgRGF0ZShkYXkgKyIgIiAgKyAiMjM6NTk6NTkiKTsKICAgICAgY29uc3QgdGltZV9kaWZmZXJlbmNlID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTsKICAgICAgLy9jYWxjdWxhdGUgZGF5cyBkaWZmZXJlbmNlIGJ5IGRpdmlkaW5nIHRvdGFsIG1pbGxpc2Vjb25kcyBpbiBhIGRheQogICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IodGltZV9kaWZmZXJlbmNlIC8gKDEwMDAgKiA2MCAqIDYwKSk7CiAgICAgIGNvbnN0IHJlbWFpbmluZ19taWxsaXNlY29uZHMgPSB0aW1lX2RpZmZlcmVuY2UgJSAoMTAwMCAqIDYwICogNjApOwogICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihyZW1haW5pbmdfbWlsbGlzZWNvbmRzIC8gKDEwMDAgKiA2MCkpOwoKICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgc3VqZXQ6IG5hbWUsCiAgICAgICAgZGF0ZV9hY3Rpb246IHRhYiwKICAgICAgICBjb2xvcjogIiM5ZTVmZmYiLAogICAgICAgIGR1cmVlX2hldXJlczogaG91cnMsCiAgICAgICAgZHVyZWVfbWludXRlczogbWludXRlcywKICAgICAgICBpZHV0aWxpc2F0ZXVyOiB0aGlzLklEX1VTRVIsCiAgICAgICAgaWR0eXBlX2FjdGlvbiA6dHlwZSA9PT0gImNvbHVtbiIgPyBhcmdzLmRhdGEuaWQgOiBhcmdzLmNvbHVtbi5kYXRhLmlkLAogICAgICAgIGVfbG9jazogdGhpcy5sb2NrID09PSAiYWxsbG9jayIgPyAiMCIgOiB0aGlzLmxvY2ssCiAgICAgICAgcHJpb3JpdGUgOiB0aGlzLnByaW9yaXR5ID09PSAiYWxscHJpb3JpdHkiID8gIjAiIDogdGhpcy5wcmlvcml0eSwKICAgICAgfSk7CiAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOiB0aGlzLlVSSV9BQ1RJT04gKyB0aGlzLkFQSV9LRVksCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9LAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgIH07CiAgICAgIHJldHVybiBheGlvcyhjb25maWcpCiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIkRPTlQgV09SUlkgSU0gRklORSIsIHJlc3VsdCk7CiAgICAgICAgICB0aGlzLm9uRmlsdGVyKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgT04gUE9TVDogIiwgZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGFkZENyZWF0ZUJ1dHRvbihkYXRhKSB7CiAgICAgIGRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICBlbGVtZW50LmFyZWFzPSBbIAogICAgICAgICAgICB7IHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCwgd2lkdGg6IDE4LCBodG1sIDogIisiLCBjc3NDbGFzczogImFkZC1idXR0b24iLCAKICAgICAgICAgICAgICBhY3Rpb246ICJKYXZhU2NyaXB0IiwganM6IGFzeW5jKGFyZ3MpID0+eyAKICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTmV3VGFza3MoYXJncywiY29sdW1uIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IAogICAgICAgICAgXQogICAgICB9KTsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9LAogICAgbG9hZFN3aW1sYW5lKCkgewogICAgICBWdWUuc2V0KHRoaXMuY29uZmlnLCAic3dpbWxhbmVzIiwgdGhpcy5hbGxVc2Vycyk7CiAgICB9LAogICAgc2hvdyhlbGVtZW50LHZhbHVlKSB7CiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUubGVuZ3RoID09PSAwID8gImlzLWFjdGl2ZSIgOiAiIjsKICAgICAgaWYoZWxlbWVudCA9PT0gInVzZXJzIil7CiAgICAgICAgKHRoaXMuc2hvd2luZyA9IG5ld1ZhbHVlKQogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgKHRoaXMuc2hvd2luZ0l0ZW1zID0gbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgc2V0VmlldyhpdGVtKXsKICAgICAgdGhpcy50eXBldmlldyA9IGl0ZW07CiAgICAgIHRoaXMuc2hvdygidXNlcnMiLHRoaXMuc2hvd2luZyk7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5vbkZpbHRlcigpOwogICAgfSwKICAgICBzZXRDb2xvcih0eXBlLCBkYXRhKSB7CiAgICAgIGxldCAgY29sb3IgPSB0eXBlLmNvbG9yOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IGpzb25kYXRhID0gZGF0YS5jb2xvci52YWx1ZTsKICAgICAgICBjb2xvciA9IEpTT04ucGFyc2UoanNvbmRhdGEpW3R5cGUuaW5kZXhdOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJ1bmRlZmluZWQgY29sb3IgZGF0YSIpOwogICAgICB9CiAgICAgIHJldHVybiBjb2xvcjsKICAgIH0sCiAgICBnZXRRdWVyeVBhcmFtKCkgewogICAgICBsZXQgZmlsdGVyID0gIiI7CiAgICAgIC8vIGZpbHRlcmluZyB1c2VycwogICAgICBpZiAodGhpcy51c2VyLmxlbmd0aCA+IDApIHsKICAgICAgICBmaWx0ZXIgPSBmaWx0ZXIuY29uY2F0KAogICAgICAgICAgZmlsdGVyLmxlbmd0aCA9PT0gMCA/ICJjb25kaXRpb246IiA6ICI6c2VwYXJhdG9yOkFORDpjb25kaXRpb246IiwKICAgICAgICAgIHRoaXMuc2V0ZmlsdGVyKAogICAgICAgICAgICB0aGlzLnVzZXIubWFwKChlKSA9PiB7CiAgICAgICAgICAgICAgcmV0dXJuIGUuaWQ7CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICAiaWR1dGlsaXNhdGV1ciIKICAgICAgICAgICkKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCJVVElMSVNBVEVVUiAvICIsIHRoaXMuZmlsdGVyKTsKICAgICAgLy8gZV9sb2NrCiAgICAgIGlmICh0aGlzLmxvY2sgIT09ICJhbGxsb2NrIikgewogICAgICAgIGZpbHRlciA9IGZpbHRlci5jb25jYXQoCiAgICAgICAgICBmaWx0ZXIubGVuZ3RoID09PSAwID8gImNvbmRpdGlvbjoiIDogIjpzZXBhcmF0b3I6QU5EOmNvbmRpdGlvbjoiLAogICAgICAgICAgdGhpcy5zZXRmaWx0ZXIodGhpcy5sb2NrLCAiZV9sb2NrIikKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCJMT0NLIC8gIiwgdGhpcy5maWx0ZXIpOwogICAgICAvLyBwcmlvcml0ZQogICAgICBpZiAodGhpcy5wcmlvcml0eSAhPT0gImFsbHByaW9yaXR5IikgewogICAgICAgIGZpbHRlciA9IGZpbHRlci5jb25jYXQoCiAgICAgICAgICBmaWx0ZXIubGVuZ3RoID09PSAwID8gImNvbmRpdGlvbjoiIDogIjpzZXBhcmF0b3I6QU5EOmNvbmRpdGlvbjoiLAogICAgICAgICAgdGhpcy5zZXRmaWx0ZXIodGhpcy5wcmlvcml0eSwgInByaW9yaXRlIikKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCJQUklPIC8gIiwgdGhpcy5maWx0ZXIpOwoKICAgICAgcmV0dXJuIGZpbHRlcjsKICAgIH0sCiAgICBzZXRmaWx0ZXIobGlzdEFycmF5LCBwYXJhbSkgewogICAgICBpZiAobGlzdEFycmF5Lmxlbmd0aCA9PT0gMSkgewogICAgICAgIHJldHVybiBwYXJhbSArICI6ZWdhbDoiICsgbGlzdEFycmF5WzBdOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICBwYXJhbSArCiAgICAgICAgICAiOmVnYWw6IiArCiAgICAgICAgICBsaXN0QXJyYXlbMF0gKwogICAgICAgICAgIjpPUjoiICsKICAgICAgICAgIHRoaXMuc2V0ZmlsdGVyKGxpc3RBcnJheS5zbGljZSgxKSwgcGFyYW0pCiAgICAgICAgKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIG9uRmlsdGVyKCl7CiAgICAgIGxldCB1cmwgPSB0aGlzLlVSSSsgdGhpcy5BUElfS0VZOwogICAgICB1cmwrPSIvIit0aGlzLmdldFF1ZXJ5UGFyYW0oKTsKICAgICAgY29uc29sZS5sb2coIkZJTFRFUiBVUkwgSVMgOiAiLHVybCk7CiAgICAgIHRoaXMuaXNMb2FkaW5nPXRydWU7CiAgICAgIHRoaXMuZ2V0S2FuYmFuSXRlbSh1cmwpLnRoZW4oKCk9PnsKICAgICAgICBWdWUuc2V0KHRoaXMuY29uZmlnLCAic3dpbWxhbmVzIiwgdGhpcy5hbGxVc2Vycy5maWx0ZXIoKHgpID0+IHRoaXMudXNlci5pbmNsdWRlcyh4KSApKTsKICAgICAgICB0aGlzLmxvYWRDb2x1bW5zKCk7CiAgICAgICAgdGhpcy5sb2FkQ2FyZHMoKTsKICAgICAgICB0aGlzLmlzTG9hZGluZz1mYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgdXBkYXRlQ2FsZW5kYXIoZXZlbnRzLGFsbEV2ZW50cykgewogICAgICBsZXQgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBpZGFjdGlvbjogZXZlbnRzLmlkYWN0aW9uLAogICAgICAgIHN1amV0OiBldmVudHMudGV4dCwKICAgICAgICBlX2xvY2s6IGV2ZW50cy5sb2NrLAogICAgICAgIGlkdHlwZV9hY3Rpb24gOmV2ZW50cy5jb2x1bW4sCiAgICAgICAgaWR1dGlsaXNhdGV1cjogZXZlbnRzLnN3aW1sYW5lLAogICAgICAgIGNvbG9yOiBldmVudHMuYmFyQ29sb3IgPT09ICIiID8gIiM5ZTVmZmYiIDogZXZlbnRzLmJhckNvbG9yLAogICAgICB9KTsKICAgICAgbGV0IHZtPSB0aGlzOwogICAgICBsZXQgY29uZmlnID0gewogICAgICAgIG1ldGhvZDogInB1dCIsCiAgICAgICAgdXJsOiB0aGlzLlVSSV9BQ1RJT04gKyB0aGlzLkFQSV9LRVksCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9LAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgIH07CiAgICAgIHJldHVybiBheGlvcyhjb25maWcpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uc29sZS5sb2coIkFsbEV2ZW50cyA6ICIsIGFsbEV2ZW50cyk7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXZlbnRzIDogIiwgZXZlbnRzKTsKICAgICAgICAgIGFsbEV2ZW50cy51cGRhdGUoZXZlbnRzKTsKICAgICAgICAgIHZtLm9uRmlsdGVyKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiVVBEQVRFIEFQSSBEQVRBUyBFUlJPUiA6ICIsZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0QWxsVXNlcnMoKS50aGVuKCgpID0+ewogICAgICB0aGlzLmdldEthbmJhbkl0ZW0oKS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRTd2ltbGFuZSgpOwogICAgICAgIHRoaXMubG9hZENvbHVtbnMoKTsKICAgICAgICB0aGlzLmxvYWRDYXJkcygpOwogICAgICAgIHRoaXMuZ2V0SXRlbXNMaXN0KCk7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmthbmJhbi5jZWxsTWFyZ2luQm90dG9tPTQwOwogICAgICB9KTsKICAgIH0pOwogIH0sCn07Cg=="},{"version":3,"sources":["SchedulerKanban.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SchedulerKanban.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <section class=\"main_kanban_daypilot\">\n    <b-loading\n      :is-full-page=\"isFullPage\"\n      v-model=\"isLoading\"\n      :can-cancel=\"true\">\n    </b-loading>\n    <div class=\"column is-12\">\n      <div class=\"columns multiline px-6 py-2\">\n        <div class=\"column is-12-touch \">\n          <div class=\"columns is-vcentered is-justify-content-flex-start is-left has-text-left is-desktop\">\n            <div class=\"column is-narrow\">\n              <div class=\"field is-horizontal\">\n                <label class=\"label is-flex-tablet-only is-justify-content-space-between pt-2\">\n                  Rubrique <span class=\"is-hidden-desktop\">&nbsp;</span> : &nbsp;\n                </label>\n                <div class=\"control is-flex-grow-2\">\n                  <div class=\"dropdown is-block is-fullwidth\" v-bind:class=\"showingItems\">\n                    <div class=\"dropdown-trigger\">\n                      <button class=\"button is-fullwidth is-justify-content-space-between\" aria-haspopup=\"true\" \n                              aria-controls=\"dropdown-menu\" @click=\"show('items',showingItems)\">\n                        <span class=\"icon-text\">\n                          <span>{{itemSelected.rubrique}}</span>\n                        </span>\n                        <span class=\"icon is-small\">\n                          <span class=\"fas fa-angle-down\" aria-hidden=\"true\"></span>\n                        </span>\n                      </button>\n                    </div>\n                    <div class=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n                      <div class=\"dropdown-content\">\n                        <a class=\"dropdown-item\" v-for=\"(item, i) in itemsList\" :key=\"i\" :value=\"item.rubrique\" \n                            @click=\"getItemColumns(item)\">\n                          <span class=\"icon-text\">\n                            <span>{{ item.rubrique }}</span>\n                          </span>\n                        </a>\n                        <hr class=\"dropdown-divider\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"column is-narrow\">\n              <div class=\"field is-horizontal\">\n                <label class=\"label is-flex-tablet-only is-justify-content-space-between pt-2\">\n                  Affichage <span class=\"is-hidden-desktop\">&nbsp;</span> : &nbsp;\n                </label>\n                <div class=\"control is-flex-grow-2\">\n                  <div class=\"dropdown is-block is-fullwidth\" v-bind:class=\"showing\">\n                    <div class=\"dropdown-trigger\">\n                      <button class=\"button is-fullwidth is-justify-content-space-between\" aria-haspopup=\"true\" \n                              aria-controls=\"dropdown-menu\" @click=\"show('users',showing)\">\n                        <span class=\"icon-text\">\n                          <span class=\"icon\">\n                            <span class=\"fas fa-circle\" v-bind:style=\"{ color: typeview.color }\"></span>\n                          </span>\n                          <span>{{typeview.title}}</span>\n                        </span>\n                        <span class=\"icon is-small\">\n                          <span class=\"fas fa-angle-down\" aria-hidden=\"true\"></span>\n                        </span>\n                      </button>\n                    </div>\n                    <div class=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n                      <div class=\"dropdown-content\">\n                        <a class=\"dropdown-item\" v-for=\"(item, i) in arrayFilter\" :key=\"i\" :value=\"item.title\" \n                            @click=\"setView(item)\">\n                          <span class=\"icon-text is-flex is-flex-wrap-nowrap\">\n                            <span class=\"icon\" v-bind:style=\"{ color: item.color }\">\n                              <span class=\"fas fa-circle\"></span>\n                            </span>\n                            <span>{{ item.title }}</span>\n                          </span>\n                        </a>\n                        <hr class=\"dropdown-divider\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"column is-narrow\">\n              <div class=\"field is-horizontal\">\n                <label class=\"label is-flex-tablet-only is-justify-content-space-between pt-2\">\n                  Utilisateur <span class=\"is-hidden-desktop\">&nbsp;</span> : &nbsp;\n                </label>\n                <div class=\"control is-flex-grow-2\">\n                  <div class=\"select is-block\">\n                    <Multiselect\n                    v-model=\"user\" :options=\"allUsers\" :multiple=\"true\"\n                    :close-on-select=\"false\" :clear-on-select=\"false\"\n                    :preserve-search=\"true\"\n                    placeholder=\"Selectionnez\" label=\"name\" \n                    track-by=\"name\" :preselect-first=\"true\"\n                    @close=\"onFilter\">\n                    <template\n                      slot=\"selection\"\n                      slot-scope=\"{ values, isOpen }\">\n                      <span class=\"multiselect__single\" v-if=\"values.length &amp;&amp; !isOpen\">\n                        {{ values.length }} selections\n                      </span>\n                    </template>\n                  </Multiselect>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <DayPilotKanban id=\"dp\" :config=\"config\" ref=\"kanban\" />\n  </section>\n</template>\n  \n<script>\n  import { DayPilotKanban, DayPilot } from \"daypilot-pro-vue\";\n  import Vue from \"vue\";\n  import Multiselect from \"vue-multiselect\";\n  // import \"vue-multiselect/dist/vue-multiselect.min.css\";\n  import axios from \"axios\";\n  \n  export default {\n    name: \"SchedulerKanban\",\n    props: {\n      API_KEY: {\n        type: String,\n        default() {\n          return \"\";\n        },\n      },\n      ID_USER: {\n        type: String,\n        default() {\n          return 1;\n        },\n      },\n      URI: {\n        type: String,\n        default() {\n          return \"https://0002-zebridge-dev-externe.api.crm-simple.com/interactions/\";\n        },\n      },\n      URI_ACTION: {\n        type: String,\n        default() {\n          return \"https://0002-zebridge-dev-externe.api.crm-simple.com/interaction/\";\n        },\n      },\n      URI_ITEMS: {\n        type: String,\n        default() {\n          return \"https://0002-zebridge-dev-externe.api.crm-simple.com/actionrubriques/\";\n        },\n      },\n      URI_ACTIONTYPES: {\n        type: String,\n        default() {\n          return \"https://0002-zebridge-dev-externe.api.crm-simple.com/actiontypes/\";\n        },\n      },\n      idUtilisateurs: {\n        type: Array,\n        default() {\n          return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\n        },\n      },\n    },\n    data: function () {\n      return {\n        isFullPage: false,\n        isLoading: true,\n        itemSelected : {},\n        user : [],\n        lock : \"alllock\",\n        type : \"alltype\",\n        priority : \"allpriority\",\n        steps: [],\n        allUsers: [],\n        tasks: [],\n        showing: \"\",\n        showingItems: \"\",\n        typeview:{\n          title : \"Selectionnez\", \n          color: \"#2251ff\",\n          index: \"color_defaut\",\n        },\n        itemsList : [],\n        columnList : [],\n        arrayFilter : [\n            {\n              color: \"#2251ff\",\n              title: \"Défaut\",\n              index: \"color_defaut\",\n            },\n            {\n              color: \"#F54D40\",\n              title: \"Etat\",\n              index: \"color_etat\",\n            },\n            {\n              color: \"#25ffcd\",\n              title: \"Priorité\",\n              index: \"color_priorite\",\n            },\n            {\n              color: \"#de452a\",\n              title: \"Utilisateur\",\n              index: \"color_utilisateur\",\n            },\n            {\n              color: \"#cdee00\",\n              title: \"Type\",\n              index: \"color_type\",\n            },\n            {\n              color: \"#e19400\",\n              title: \"Priorité échéance\",\n              index: \"color_priorite_echeance\",\n            },\n        ],\n        config: {\n          columnWidthSpec: \"Auto\",\n          swimlaneMoveHandling: \"Disabled\",\n          eventHoverHandling: \"Bubble\",\n          // onSwimlaneMoved: (args) => {\n          //   args.control.message(\"Swimlane moved: \" + args.swimlane.data.name);\n          // },\n          cardDeleteHandling: \"Disabled\",\n          cardMoveHandling: \"Enabled\",\n          onCardMoved: (args) => {\n            console.log(\"args\", args);\n            this.updateCalendar(args.card.data, args.card.control.cards)\n            // args.control.message(\"Card moved: \" + args.card.data.name);\n          },\n          onBeforeCellRender : (args) => {\n            if(args.cell.swimlane.data.id === this.ID_USER){\n              args.cell.areas =[ {\n                right: 5,\n                bottom: 5,\n                width: 100,\n                height: 30,\n                html: \"Ajouter\",\n                cssClass: \"add-button\",\n                action: \"JavaScript\", js: async(args)=> {\n                  console.log(\"ON BUTTON \", args);\n                  this.createNewTasks(args,\"add-button\");\n                }\n              }]\n            }\n          },\n          cardRightClickHandling: \"Disabled\",\n          onCardClick: async (args) => {\n            console.log(\"CARDS : \", args);\n            if((args.card.data.lock!==\"1\") && (args.card.data.swimlane===this.ID_USER)){\n              const modal = await DayPilot.Modal.prompt(\n                \"Modifier le titre de la tâche: \",args.card.data.text\n              );\n              let name=modal.result;\n              if (!name) {return;}\n              args.card.data.text = modal.result;\n              this.updateCalendar(args.card.data, args.card.control.cards)\n            }\n          },\n          // contextMenuCard: new DayPilot.Menu({\n          //   items: [\n          //     {\n          //       text: \"Verrouiller la tâche\",\n          //       icon: \"fas fa-lock\",\n          //       onClick: (args) => {\n          //         let e = args.source;\n          //         e.data.lock = \"1\";\n          //         e.data.areas[0].icon = \"fas fa-lock\";\n          //         console.log(\"LOCKED : \", e.data);\n          //         this.updateCalendar(e.data,e.control.cards);\n          //       },\n          //     },\n          //     {\n          //       text: \"Supprimer\",\n          //       icon: \"fas fa-trash\",\n          //       onClick: (args) => {\n          //         const dp = args.source.control;\n          //         let idaction = args.source.data.idaction;\n          //         let config = {\n          //           method: \"delete\",\n          //           url: this.URI_ACTION + this.API_KEY + \"/\" + idaction,\n          //           headers: {},\n          //         };\n          //         axios(config)\n          //           .then(function () {\n          //             dp.cards.remove(args.source);\n          //           })\n          //           .catch(function (error) {\n          //             console.log(\"Error ON DELETE : \", error);\n          //           });\n          //       },\n          //     },\n          //     {\n          //       text: \"Private\",\n          //       icon: \"icon icon-private\",\n          //       color: \"#9e5fff\",\n          //       onClick: (args) => {\n          //         let e = args.source;\n          //         e.data.barColor = \"#9e5fff\";\n          //         this.updateCalendar(e.data,e.control.cards);\n          //       },\n          //     },\n          //     {\n          //       text: \"Company\",\n          //       icon: \"icon icon-company\",\n          //       color: \"#00a9ff\",\n          //       onClick:  (args) => {\n          //         let e = args.source;\n          //         e.data.barColor = \"#00a9ff\";\n          //         this.updateCalendar(e.data,e.control.cards);\n          //       },\n          //     },\n          //     {\n          //       text: \"DéVerrouiller la tâche\",\n          //       icon: \"fas fa-lock-open\",\n          //       onClick: (args) => {\n          //         let e = args.source;\n          //         e.data.lock = \"0\";\n          //         e.data.areas[0].icon = \"fas fa-chevron-down\";\n          //         console.log(\"LOCKED : \", e.data);\n          //         this.updateCalendar(e.data,e.control.cards);\n          //       },\n          //     },\n          //   ],\n          //   onShow: function (args) {\n          //     if (parseInt(args.source.data.lock) === 1) {\n          //       args.menu.items[0].hidden = true;\n          //       args.menu.items[4].hidden = false;\n          //       args.menu.items.forEach(element => {\n          //         element.disabled = true;\n          //       });\n          //       args.menu.items[4].disabled = false;\n          //     } \n          //     else {\n          //       args.menu.items[0].hidden = false;\n          //       args.menu.items.forEach(element => {\n          //         element.disabled = false;\n          //       });\n          //       args.menu.items[4].hidden = true;\n          //     }\n          //   },\n          // }),\n        },\n      };\n    },\n    components: {\n      DayPilotKanban,\n      Multiselect\n    },\n    computed: {\n      // DayPilot.Kanban object - https://api.daypilot.org/daypilot-kanban-class/\n      kanban: function () {\n        return this.$refs.kanban.control;\n      },\n    },\n    methods: {\n      async getAllUsers(nombre_page=0) {\n        let vm = this;\n        return axios({\n          method: \"get\",\n          url: \"https://0002-zebridge-dev-externe.api.crm-simple.com/utilisateurs/\"+ this.API_KEY,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then(function (response) {\n            let allUsers = response.data.data;\n            console.log(\"USERS : \", response);\n            // console.log(\"ID USER: \", vm.ID_USER);\n            allUsers.forEach(element => {\n              vm.allUsers.push({\n                name: element.nom_utilisateur.value,\n                id: element.idutilisateur.value,\n              });\n            });\n            vm.user = vm.allUsers.filter((x) => x.id in vm.idUtilisateurs );\n            nombre_page++;\n            if (nombre_page >= response.data.nbpage) {\n              this.getAllUsers(nombre_page);\n            }\n          })\n          .catch(function (error) {\n            console.log(\"Error ON GET ALL USERS: \", error);\n            return [];\n          });\n      },\n      compare( a, b ) {\n        if ( a.rubrique < b.rubrique ){\n          return -1;\n        }\n        if ( a.rubrique > b.rubrique ){\n          return 1;\n        }\n        return 0;\n      },\n      async getItemsList(nombre_page=0) {\n        return axios({\n          method: \"get\",\n          url: this.URI_ITEMS+ this.API_KEY,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then((response) => {\n            let items = response.data.data;\n            items.forEach(element => {\n              this.itemsList.push({\n                id : element.idrubrique, \n                rubrique : element.rubrique, \n              });\n            });\n            nombre_page++;\n            if(nombre_page < response.data.nbpage){\n              this.getItemsList(nombre_page);\n            }\n            else{\n              this.itemsList.sort( this.compare );\n              this.getItemColumns(this.itemsList[0]);\n            }\n          })\n          .catch(function (error) {\n            console.log(\"Error ON GET ALL ITEMS: \", error);\n            return [];\n          });\n      },\n      async getItemColumns(item,nombre_page=0) {\n        this.isLoading=true;\n        this.itemSelected = item;\n        this.columnList=[];\n        let id = item.id\n        console.log(\"Id :\", id);\n        return axios({\n          method: \"get\",\n          url: this.URI_ACTIONTYPES+this.API_KEY+\"/condition:idrubrique:egal:\"+id,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then((response) => {\n            let data = response.data.data;\n            console.log(\"RESPONSE COLUMN A : \", response)\n            // let newColumns = [];\n            data.forEach(element => {\n              this.columnList.push({\n                id : element.idaction_type, \n                name : element.action_type, \n              });\n            });\n            nombre_page++;\n            console.log(\"COLUMN LIST\", this.columnList);\n            nombre_page >= response.data.nbpage ? this.showingItems=\"\": this.getItemColumns(item,nombre_page);\n            this.isLoading=false;\n            this.columnList=this.addCreateButton(this.columnList);\n            this.kanban.columns.list = this.columnList;\n            Vue.set(this.config, \"columns\", this.columnList);\n            this.loadSwimlane();\n            this.loadCards();\n          })\n          .catch(function (error) {\n            console.log(\"Error ON GET ALL ACTIONS TYPE: \", error);\n            return [];\n          });\n      },\n      async getKanbanItem(url=this.URI + this.API_KEY, nombre_page=0) {\n        let vm = this;\n        vm.tasks= nombre_page===0 ? [] : vm.tasks;\n        console.log(\"nombre_page \", nombre_page);\n        return axios({\n          method: \"get\",\n          url: url+\"/\"+nombre_page,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then(function (response) {\n            let tasks = response.data.data;\n            console.log(\"TASK 1.0 \", response);\n            let index = vm.tasks.length+1;\n            let groupBy = function (xs) {\n              return xs.reduce(function (rv, x) {\n                (rv[x.idutilisateur.value] =\n                  rv[x.idutilisateur.value] || []).push(x);\n                return rv;\n              }, {});\n            };\n            let taskByID = groupBy(tasks);\n            let newEvents = [];\n            for (const [key] of Object.entries(taskByID)) {\n              newEvents.push({\n                id: `${key}`,\n                tasks: taskByID[`${key}`],\n              });\n            }\n            newEvents.forEach((element) => {\n              element.tasks.forEach((task) => {\n                vm.tasks.push({\n                  idaction: task.idaction.value,\n                  id: index,\n                  name: \"\",\n                  text: task.sujet.value,\n                  swimlane: element.id,\n                  start: task.date_action.value,\n                  end: task.date_fin.value,\n                  column: task.idtype_action.value,\n                  lock: task.e_lock.value,\n                  barColor:vm.setColor(vm.typeview, task),\n                  priority :task.priorite.value,\n                  areas: [\n                    {\n                      right: 0,\n                      top: 6,\n                      width: 20,\n                      height: 20,\n                      icon: \"fas fa-info-circle\",\n                      style: \"text-align:center; color:#2251ff\",\n                      action :\"Bubble\",\n                      bubble: new DayPilot.Bubble({\n                        onLoad: (args) => {\n                          let idaction = args.source.data.card.idaction;\n                          let start = \"\";\n                          let end = \"\";\n                          start = args.source.data.card.start;\n                          start = start.split(\" \");\n                          let new_date = start[0].split(\"-\");\n                          start[0] = new_date[2] + \"-\" + new_date[1] + \"-\" + new_date[0];\n                          var new_end = start[1].split(\":\");\n                          start[1] = new_end[0] + \":\" + new_end[1];\n                          end = args.source.data.card.end;\n                          end = end.split(\" \");\n                          new_date = end[0].split(\"-\");\n                          end[0] = new_date[2] + \"-\" + new_date[1] + \"-\" + new_date[0];\n                          new_end = end[1].split(\":\");\n                          end[1] = new_end[0] + \":\" + new_end[1];\n                          // if event object doesn't specify \"bubbleHtml\" property\n                          // this onLoad handler will be called to provide the bubble HTML\n                          args.html =\n                            \"<span style='font-weight: 900'>\" +args.source.data.card.text +\"</span></br>\" +\n                            \"Début: \" +start[0] +\" à \" +start[1] +\"</br>\" +\n                            \"Fin: \" +end[0] +\" à \" + end[1] +\"</br>\" +\n                            \"<a href='https://0002-zebridge-dev-externe.crm-simple.com/action_edit.php?idaction=\" +\n                            idaction +\"'target='_blank'rel='noopener' >Voir plus</a>\";\n                        },\n                      }),\n                    },\n                  ],\n                });\n                //CHANGE ICON FOr  LOCKED EVENTS\n                // if (parseInt(vm.tasks[index-1].lock) === 1) {\n                //   vm.tasks[index-1].areas[0].icon =\"fas fa-lock\";\n                // }\n                index++;\n              });\n            });\n            console.log(\"TASKS 2.0 : \", vm.tasks);\n            nombre_page++;\n            if(nombre_page < response.data.nbpage){\n              vm.getKanbanItem(vm.URI + vm.API_KEY,nombre_page);\n            }\n          })\n          .catch(function (error) {\n            console.log(\"Error ON GET: \", error);\n            return [];\n          });\n      },\n      loadCards() {\n        Vue.set(this.config, \"cards\", this.tasks);\n      },\n      loadColumns() {\n        this.columnList = this.addCreateButton(this.columnList);\n        Vue.set(this.config, \"columns\", this.columnList);\n      },\n      async createNewTasks(args, type){\n        console.log(\"RUN THROUGH\", type);\n        console.log(\"args COLUMN :\", args);\n        const modal = await DayPilot.Modal.prompt(\"Créer une nouvelle tâche: \",);\n        let name=modal.result;\n        if (!name) {return;}\n        const addZero = (i) => i < 10 ? \"0\" + i :  i;\n        let currentdate = new Date();\n        let day = currentdate.getFullYear() + \"-\"  + addZero((currentdate.getMonth()+1))  + \"-\"\n                  + addZero(currentdate.getDate());\n        let tab = day +\" \"  + \"00:00:00\";\n        let start = new Date(tab);\n        let end = new Date(day +\" \"  + \"23:59:59\");\n        const time_difference = end.getTime() - start.getTime();\n        //calculate days difference by dividing total milliseconds in a day\n        const hours = Math.floor(time_difference / (1000 * 60 * 60));\n        const remaining_milliseconds = time_difference % (1000 * 60 * 60);\n        const minutes = Math.floor(remaining_milliseconds / (1000 * 60));\n\n        let data = JSON.stringify({\n          sujet: name,\n          date_action: tab,\n          color: \"#9e5fff\",\n          duree_heures: hours,\n          duree_minutes: minutes,\n          idutilisateur: this.ID_USER,\n          idtype_action :type === \"column\" ? args.data.id : args.column.data.id,\n          e_lock: this.lock === \"alllock\" ? \"0\" : this.lock,\n          priorite : this.priority === \"allpriority\" ? \"0\" : this.priority,\n        });\n        let config = {\n          method: \"post\",\n          url: this.URI_ACTION + this.API_KEY,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          data: data,\n        };\n        return axios(config)\n          .then((result) => {\n            console.log(\"DONT WORRY IM FINE\", result);\n            this.onFilter();\n          })\n          .catch(function (error) {\n            console.log(\"Error ON POST: \", error);\n          });\n      },\n      addCreateButton(data) {\n        data.forEach(element => {\n          element.areas= [ \n              { right: 0, top: 0, bottom: 0, width: 18, html : \"+\", cssClass: \"add-button\", \n                action: \"JavaScript\", js: async(args) =>{ \n                  this.createNewTasks(args,\"column\");\n                }\n              } \n            ]\n        });\n        return data;\n      },\n      loadSwimlane() {\n        Vue.set(this.config, \"swimlanes\", this.allUsers);\n      },\n      show(element,value) {\n        const newValue = value.length === 0 ? \"is-active\" : \"\";\n        if(element === \"users\"){\n          (this.showing = newValue)\n        }\n        else{\n          (this.showingItems = newValue);\n        }\n      },\n      setView(item){\n        this.typeview = item;\n        this.show(\"users\",this.showing);\n        this.isLoading = true;\n        this.onFilter();\n      },\n       setColor(type, data) {\n        let  color = type.color;\n        try {\n          const jsondata = data.color.value;\n          color = JSON.parse(jsondata)[type.index];\n        } catch (error) {\n          console.log(\"undefined color data\");\n        }\n        return color;\n      },\n      getQueryParam() {\n        let filter = \"\";\n        // filtering users\n        if (this.user.length > 0) {\n          filter = filter.concat(\n            filter.length === 0 ? \"condition:\" : \":separator:AND:condition:\",\n            this.setfilter(\n              this.user.map((e) => {\n                return e.id;\n              }),\n              \"idutilisateur\"\n            )\n          );\n        }\n        console.log(\"UTILISATEUR / \", this.filter);\n        // e_lock\n        if (this.lock !== \"alllock\") {\n          filter = filter.concat(\n            filter.length === 0 ? \"condition:\" : \":separator:AND:condition:\",\n            this.setfilter(this.lock, \"e_lock\")\n          );\n        }\n        console.log(\"LOCK / \", this.filter);\n        // priorite\n        if (this.priority !== \"allpriority\") {\n          filter = filter.concat(\n            filter.length === 0 ? \"condition:\" : \":separator:AND:condition:\",\n            this.setfilter(this.priority, \"priorite\")\n          );\n        }\n        console.log(\"PRIO / \", this.filter);\n\n        return filter;\n      },\n      setfilter(listArray, param) {\n        if (listArray.length === 1) {\n          return param + \":egal:\" + listArray[0];\n        } else {\n          return (\n            param +\n            \":egal:\" +\n            listArray[0] +\n            \":OR:\" +\n            this.setfilter(listArray.slice(1), param)\n          );\n        }\n      },\n      async onFilter(){\n        let url = this.URI+ this.API_KEY;\n        url+=\"/\"+this.getQueryParam();\n        console.log(\"FILTER URL IS : \",url);\n        this.isLoading=true;\n        this.getKanbanItem(url).then(()=>{\n          Vue.set(this.config, \"swimlanes\", this.allUsers.filter((x) => this.user.includes(x) ));\n          this.loadColumns();\n          this.loadCards();\n          this.isLoading=false;\n        });\n      },\n      async updateCalendar(events,allEvents) {\n        let data = JSON.stringify({\n          idaction: events.idaction,\n          sujet: events.text,\n          e_lock: events.lock,\n          idtype_action :events.column,\n          idutilisateur: events.swimlane,\n          color: events.barColor === \"\" ? \"#9e5fff\" : events.barColor,\n        });\n        let vm= this;\n        let config = {\n          method: \"put\",\n          url: this.URI_ACTION + this.API_KEY,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          data: data,\n        };\n        return axios(config)\n          .then(function () {\n            console.log(\"AllEvents : \", allEvents);\n            console.log(\"events : \", events);\n            allEvents.update(events);\n            vm.onFilter();\n          })\n          .catch(function (error) {\n            console.log(\"UPDATE API DATAS ERROR : \",error);\n          });\n      },\n    },\n    mounted: function () {\n      this.getAllUsers().then(() =>{\n        this.getKanbanItem().then(() => {\n          this.loadSwimlane();\n          this.loadColumns();\n          this.loadCards();\n          this.getItemsList();\n          this.isLoading = false;\n          this.kanban.cellMarginBottom=40;\n        });\n      });\n    },\n  };\n</script>\n<style>\n  .main_kanban_daypilot {\n    margin-bottom: 20px;\n  }\n  .add-button {\n      cursor: pointer;\n      border: 1px solid #ccc;\n      background-color: #eee;\n      color: #666;\n      text-align: center;\n      line-height: 30px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n  }\n  .add-button:hover {\n      background-color: #ddd;\n  }\n</style>"]}]}