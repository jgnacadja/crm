{"remainingRequest":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/home/jr/devspace/simpleCRM/src/services/appservice.js","dependencies":[{"path":"/home/jr/devspace/simpleCRM/src/services/appservice.js","mtime":1643214610349},{"path":"/home/jr/devspace/simpleCRM/babel.config.js","mtime":1643225596571},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1643224169106},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js","mtime":1643224168901},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1643224169006},{"path":"/home/jr/devspace/simpleCRM/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1643224170995}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgaXNBdXRoOiBmYWxzZSwKICB0b2tlbjogJycsCiAgaWRVc2VyOiAnJywKICBhdXRoZW50aWNhdGU6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZSh1c2VyLCBwd2QpIHsKICAgIHZhciBxdWVyeXBhcmFtID0gewogICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgdXJsOiAiaHR0cHM6Ly8wMDAyLXplYnJpZGdlLWRldi1leHRlcm5lLmFwaS5jcm0tc2ltcGxlLmNvbS9hdXRoZW50aWZpY2F0aW9uIiwKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgfSwKICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgIGlkZW50aWZpYW50OiB1c2VyLAogICAgICAgIG1vdGRlcGFzc2U6IHB3ZAogICAgICB9KQogICAgfTsKICAgIHZhciB2bSA9IHRoaXM7CiAgICByZXR1cm4gYXhpb3MocXVlcnlwYXJhbSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdm0uaXNBdXRoID0gdHJ1ZTsgLy8gY29uc29sZS5sb2coIlJFU1BPTlNFIEJFRk9SRSBUT0tFTiA6ICIsIHJlc3BvbnNlKTsKCiAgICAgIHZtLnRva2VuID0gcmVzcG9uc2UuZGF0YS50b2tlbjsKICAgICAgdm0uaWRVc2VyID0gcmVzcG9uc2UuZGF0YS5pZDsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfSwKICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICB2YXIgdXNlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogImFkbWluIjsKICAgIHZhciBwd2QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICJEdzNCd2V6YVFTYXIiOwogICAgcmV0dXJuIHRoaXMuYXV0aGVudGljYXRlKHVzZXIsIHB3ZCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/jr/devspace/simpleCRM/src/services/appservice.js"],"names":["axios","isAuth","token","idUser","authenticate","user","pwd","queryparam","method","url","headers","data","JSON","stringify","identifiant","motdepasse","vm","then","response","id","catch","error","console","log","getToken"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AAEXC,EAAAA,MAAM,EAAE,KAFG;AAGXC,EAAAA,KAAK,EAAE,EAHI;AAIXC,EAAAA,MAAM,EAAE,EAJG;AAKXC,EAAAA,YALW,wBAKEC,IALF,EAKQC,GALR,EAKa;AAEpB,QAAMC,UAAU,GAAG;AACfC,MAAAA,MAAM,EAAE,MADO;AAEfC,MAAAA,GAAG,EAAE,uEAFU;AAGfC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAHM;AAMfC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,WAAW,EAAET,IADI;AAEjBU,QAAAA,UAAU,EAAET;AAFK,OAAf;AANS,KAAnB;AAWA,QAAMU,EAAE,GAAG,IAAX;AACA,WAAOhB,KAAK,CAACO,UAAD,CAAL,CACFU,IADE,CACG,UAASC,QAAT,EAAmB;AACrBF,MAAAA,EAAE,CAACf,MAAH,GAAY,IAAZ,CADqB,CAErB;;AACAe,MAAAA,EAAE,CAACd,KAAH,GAAWgB,QAAQ,CAACP,IAAT,CAAcT,KAAzB;AACAc,MAAAA,EAAE,CAACb,MAAH,GAAYe,QAAQ,CAACP,IAAT,CAAcQ,EAA1B;AACA,aAAOD,QAAQ,CAACP,IAAhB;AACH,KAPE,EAQFS,KARE,CAQI,UAASC,KAAT,EAAgB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAVE,CAAP;AAaH,GAhCU;AAkCXG,EAAAA,QAlCW,sBAkCoC;AAAA,QAAtCnB,IAAsC,uEAA/B,OAA+B;AAAA,QAAtBC,GAAsB,uEAAhB,cAAgB;AAC3C,WAAO,KAAKF,YAAL,CAAkBC,IAAlB,EAAwBC,GAAxB,CAAP;AACH;AApCU,CAAf","sourcesContent":["import axios from \"axios\";\nexport default {\n\n    isAuth: false,\n    token: '',\n    idUser: '',\n    authenticate(user, pwd) {\n\n        const queryparam = {\n            method: \"post\",\n            url: \"https://0002-zebridge-dev-externe.api.crm-simple.com/authentification\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            data: JSON.stringify({\n                identifiant: user,\n                motdepasse: pwd,\n            }),\n        };\n        const vm = this;\n        return axios(queryparam)\n            .then(function(response) {\n                vm.isAuth = true;\n                // console.log(\"RESPONSE BEFORE TOKEN : \", response);\n                vm.token = response.data.token;\n                vm.idUser = response.data.id;\n                return response.data;\n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n\n\n    },\n\n    getToken(user = \"admin\", pwd = \"Dw3BwezaQSar\") {\n        return this.authenticate(user, pwd);\n    }\n\n};"]}]}